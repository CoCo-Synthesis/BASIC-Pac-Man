0 GOTO425
1 A=X:C=Y:G=Z:OS=S
2 IFPW THENCD=CD-&H1:IFM1+M2+M3+M4 THENELSEPW=.:CD=.
3 O=NOTO:POKE&HFFBE,&H3C:TIMER=.:GOSUB68:PRINTTIMER:FT=FT-&H1:POKE&HFFBB,RND(&H3F):POKE&HFFBE,&H3F:IFFT=. GOSUB49
4 OD=PD:OB=B:ONFIX(JOYSTK(.)/&H16)+&H1 GOTO5,7,6
5 PD=&H3:B=&H7C:GOTO13
6 PD=&H4:B=&H22:GOTO16
7 ONFIX(JOYSTK(&H1)/&H16)+&H1 GOTO8,10,9
8 PD=&H1:B=&H6B:GOTO11
9 PD=&H2:B=&H7B:GOTO12
10 ONPD GOTO11,12,13,16:GOTO18
11 Y=Y-&H1:GOTO18
12 Y=Y+&H1:GOTO18
13 X=X-&H1:IFX=&H1D THENX=&HC:GOTO18
14 IFX=&HB THENX=&H1C:GOTO18
15 GOTO18
16 X=X+&H1:IFX=&H1D THENX=&HC:GOTO18
17 IFX=&HB THENX=&H1C
18 Z=X-&H53+Y*&H12:IFP(Z)GOTO32
19 X=A:Y=C:Z=G:PD=OD:B=OB:ONOD GOTO20,22,24,28:GOTO32
20 Y=Y-&H1:Z=X-&H53+Y*&H12:IFP(Z)GOTO18
21 X=A:Y=C:Z=G:PD=OD:GOTO2
22 Y=Y+&H1:Z=X-&H53+Y*&H12:IFP(Z)GOTO18
23 X=A:Y=C:Z=G:PD=OD:GOTO2
24 X=X-&H1:IFX=&H1D THENX=&HC:GOTO26
25 IFX=&HB THENX=&H1C
26 Z=X-&H53+Y*&H12:IFP(Z)GOTO18
27 X=A:Y=C:Z=G:PD=OD:GOTO2
28 X=X+&H1:IFX=&H1D THENX=&HC:GOTO30
29 IFX=&HB THENX=&H1C
30 Z=X-&H53+Y*&H12:IFP(Z)GOTO18
31 X=A:Y=C:Z=G:PD=OD:GOTO2
32 HCOLOR&H1:IFW THENHPRINT(X,Y),CHR$(B):GOTO34
33 HPRINT(X,Y),CHR$(&H21)
34 HPRINT(A,C),CHR$(&H20):W=NOTW:IFZ-Z1 THENELSEGOSUB397
35 IFZ-Z2 THENELSEGOSUB401
36 IFZ-Z3 THENELSEGOSUB405
37 IFZ-Z4 THENELSEGOSUB409
38 U=P(Z):ONU GOTO39,44,44,44,41,44,44,44,44,43:GOTO44
39 S=S+U:P(Z)=&H2:PP=PP-&H1:IFW THENPLAY"V20;O4;1;V15;3":GOTO47
40 PLAY"V20;O4;3;V15;1":GOTO47
41 PLAY"V18;O3;2;V24;O2;12;V29;7;V24;3;V16;O1;12;V14;7;V3;7;7;V8;7;V26;7;V19;12;V24;O2;3;V31;3;V25;7;V15;9;V20;9;V27;12;V18;O3;2;V11;3;V4;3;V2;3;V3;3;3;V2;3;3;V1;3;V15"
42 S=S+U:P(Z)=&H2:PL=PL+&H1:PW=&H1:M1=NOTJ1:M2=NOTJ2:M3=NOTJ3:M4=NOTJ4:CD=CT:K=.:RGB:GOTO47
43 PLAY"V27;O3;2;V29;O2;12;9;V28;7;4;4;O1;12;V31;7;V29;1;V27;1;V23;1;V27;1;V29;1;V30;7;V29;12;V27;O2;4;4;V28;7;V29;9;V28;12;O3;2;2;V27;4;V12;O1;1;V4;1;V1;1;V15":S=S+FR*&HA:P(Z)=&H2:GOTO47
44 PLAY"V5;O1;C;G;V15":IFS-OS GOTO47
45 IFPP=. ANDPL=&H4 THENFR=FR+&H1:HCOLOR&H0:HPRINT(X,Y),CHR$(&H20):HPRINT(X1,Y1),CHR$(&H20):HPRINT(X2,Y2),CHR$(&H20):HPRINT(X3,Y3),CHR$(&H20):HPRINT(X4,Y4),CHR$(&H20):GOTO449
46 GOTO1
47 S$=MID$(STR$(S),&H2):PO=LEN(S$):HCOLOR&H4:HPRINT(&H25-PO,&H5),S$:IFS-LM>&H3E7 THENPLAY"T255;L255;XE1$;XE2$;XE3$;":LM=LM+&H3E8:NL=NL+&H1:HCOLOR&H1:HPRINT(&HC,&H17),STRING$(NL-&H1,CHR$(&H22)):GOTO45
48 GOTO45
49 OC=NOTOC:IFOC THENP(&HCF)=&HA:ONFR GOTO51,52,53,54,55,56,57:GOTO58
50 GOTO58
51 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H3:HPRINT(&H14,&HF),CHR$(&H3C):HCOLOR&H4:HPRINT(&H14,&HF),CHR$(&H3D):HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H3E):FT=30:POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
52 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H3:HPRINT(&H14,&HF),CHR$(&H3F):HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H40):FT=27:POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
53 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H7:HPRINT(&H14,&HF),CHR$(&H23):HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H40):FT=24:POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
54 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H3:HPRINT(&H14,&HF),CHR$(&H62):HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H40):FT=21:POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
55 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H79):HCOLOR&HF:HPRINT(&H14,&HF),CHR$(&H7A):FT=18:POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
56 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H4:HPRINT(&H14,&HF),CHR$(&H6F):HCOLOR&H5:HPRINT(&H14,&HF),CHR$(&H7F):FT=15:POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
57 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H1:HPRINT(&H14,&HF),CHR$(&H7D):HCOLOR&H5:HPRINT(&H14,&HF),CHR$(&H5F):FT=12:POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
58 HPRINT(&H14,&HF),CHR$(&H20):P(&HCF)=&HF:FT=30:RETURN
59 P(&HCF)=&HA:HPRINT(&H14,&HF),CHR$(&H20):ONFR GOTO60,61,62,63,64,65,66:GOTO67
60 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H3:HPRINT(&H14,&HF),CHR$(&H3C):HCOLOR&H4:HPRINT(&H14,&HF),CHR$(&H3D):HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H3E):POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
61 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H3:HPRINT(&H14,&HF),CHR$(&H3F):HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H40):POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
62 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H7:HPRINT(&H14,&HF),CHR$(&H23):HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H40):POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
63 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H3:HPRINT(&H14,&HF),CHR$(&H62):HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H40):POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
64 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&HD:HPRINT(&H14,&HF),CHR$(&H79):HCOLOR&HF:HPRINT(&H14,&HF),CHR$(&H7A):POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
65 POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H4:HPRINT(&H14,&HF),CHR$(&H6F):HCOLOR&H5:HPRINT(&H14,&HF),CHR$(&H7F):POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
66 FT=30:CT=5:R1=.:R2=4:R3=8:R4=12:HCOLOR&H1:HPRINT(&H14,&HF),CHR$(&H7D):HCOLOR&H5:HPRINT(&H14,&HF),CHR$(&H5F):POKE&HF00D,&H94:POKE&HF00E,&HB3:RETURN
67 HPRINT(&H14,&HF),CHR$(&H20):P(&HCF)=&HF:RETURN
68 IFPW GOSUB72
69 IFR1 THENR1=R1-&H1:FORT=1TO40:NEXT:HCOLORC1:G1=&H77+O:HPRINT(X1,Y1),CHR$(G1+O*&HE):FORT=1TO40:NEXT:GOTO154
70 IFM1 ANDO THENFORT=1TO125:NEXT:GOTO154
71 A1=X1:B1=Y1:AB=Z1:ONJ1+&H1 GOTO75:GOTO77
72 ONCD GOTO73,74,74,74,74,74,74:RETURN
73 M1=.:M2=.:M3=.:M4=.:PW=.:RGB:RETURN
74 POKE&HFFB2,&H3F:POKE&HFFB8,&H24:RETURN
75 IFM1 THENOND1 GOSUB132,137,142,148:GOTO103
76 OND1 GOTO81,86,91,97:GOTO103
77 IFZ1-&HAB THENELSED1=&H1:GOTO103
78 IFZ1-&HAC THENELSED1=&H3:GOTO103
79 IFZ1-&HAA THENELSED1=&H4:GOTO103
80 GOTO103
81 U=P(Z1+&H1):IFU ANDX1<X THEND1=&H4:GOTO102
82 IFP(Z1-&H12)THEND1=&H1:GOTO102
83 IFU THEND1=&H4:GOTO102
84 IFP(Z1-&H1)THEND1=&H3:GOTO102
85 GOTO102
86 IFP(Z1-&H1)ANDX1>X THEND1=&H3:GOTO102
87 U=P(Z1+&H1):IFU ANDX1<X THEND1=&H4:GOTO102
88 IFP(Z1+&H12)THEND1=&H2:GOTO102
89 IFU THEND1=&H4:GOTO102
90 D1=&H3:GOTO102
91 Q=P(Z1-&H12):IFQ ANDY1>Y THEND1=&H1:GOTO102
92 U=P(Z1+&H12):IFU ANDY1<Y THEND1=&H2:GOTO102
93 IFP(Z1-&H1)THEND1=&H3:GOTO102:
94 IFU THEND1=&H2:GOTO102
95 IFQ THEND1=&H1:GOTO102
96 GOTO102
97 Q=P(Z1-&H12):IFQ ANDY1>Y THEND1=&H1:GOTO102
98 U=P(Z1+&H12):IFU ANDY1<Y THEND1=&H2:GOTO102
99 IFP(Z1+&H1)THEND1=&H4:GOTO102
100 IFU THEND1=&H2:GOTO102
101 IFQ THEND1=&H1
102 G1=&H73+D1
103 OND1 GOTO104,105,106,107
104 Y1=Y1-&H1:W1=NOTW1:GOTO108
105 Y1=Y1+&H1:W1=NOTW1:GOTO108
106 X1=X1-&H1:W1=NOTW1:GOTO108
107 X1=X1+&H1:W1=NOTW1
108 IFX1-&H1D THENELSEX1=&HC:R1=M1+&H1:GOTO110
109 IFX1-&HB THENELSEX1=&H1C:R1=M1+&H1
110 Z1=X1-&H53+Y1*&H12:IFZ1-&H99 THENELSEM1=.:GOTO112
111 IFM1 THEN POKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H8:HPRINT(X1,Y1),CHR$(&H7E):HCOLOR&H2:HPRINT(X1,Y1),CHR$(&H78+W1*&HE):POKE&HF00D,&H94:POKE&HF00E,&HB3:GOTO114
112 HCOLORC1:HPRINT(X1,Y1),CHR$(G1+W1*&HE):IFZ1-&H99 THENELSEPOKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&HB:HPRINT(X1,Y1),CHR$(&H3B):POKE&HF00D,&H94:POKE&HF00E,&HB3:J1=.:GOTO114
113 IFAB-&H99 THENELSEHCOLOR&HB:HPRINT(A1,B1),CHR$(&H3B):GOTO130
114 IFAB-Z2 GOTO116ELSEGOTO115
115 IFM2 GOTO121ELSEGOTO122
116 IFAB-Z3 GOTO118ELSEGOTO117
117 IFM3 GOTO121ELSEGOTO123
118 IFAB-Z4 GOTO120ELSEGOTO119
119 IFM4 GOTO121ELSEGOTO124
120 GOTO125
121 HCOLOR&H8:HPRINT(A1,B1),CHR$(&H7E):HCOLOR&H2:POKE&HF00D,&HA4:POKE&HF00E,&H84:HPRINT(A1,B1),CHR$(&H78+W1*&HE):POKE&HF00D,&H94:POKE&HF00E,&HB3:GOTO130
122 HCOLORC2:HPRINT(A1,B1),CHR$(G2):GOTO130
123 HCOLORC3:HPRINT(A1,B1),CHR$(G3):GOTO130
124 HCOLORC4:HPRINT(A1,B1),CHR$(G4):GOTO130
125 ONP(AB)GOTO126,129,129,129,127,129,129,129,129,128:GOTO129
126 HCOLOR&H9:HPRINT(A1,B1),CHR$(&H24):GOTO130
127 HCOLOR&HE:HPRINT(A1,B1),CHR$(&H25):GOTO130
128 GOSUB59:GOTO130
129 HPRINT(A1,B1),CHR$(&H20)
130 IFZ-Z1 GOTO154
131 GOSUB397:GOTO154
132 U=P(Z1+&H1):IFU ANDX1>X THEND1=&H4:RETURN
133 IFP(Z1-&H12)THEND1=&H1:RETURN
134 IFU THEND1=&H4:RETURN
135 IFP(Z1-&H1)THEND1=&H3:RETURN
136 RETURN
137 IFP(Z1-&H1)ANDX1<X THEND1=&H3:RETURN
138 U=P(Z1+&H1):IFU ANDX1>X THEND1=&H4:RETURN
139 IFP(Z1+&H12)THEND1=&H2:RETURN
140 IFU THEND1=&H4:RETURN
141 D1=&H3:RETURN
142 Q=P(Z1-&H12):IFQ ANDY1<Y THEND1=&H1:RETURN
143 U=P(Z1+&H12):IFU ANDY1>Y THEND1=&H2:RETURN
144 IFP(Z1-&H1)THEND1=&H3:RETURN
145 IFU THEND1=&H2:RETURN
146 IFQ THEND1=&H1:RETURN
147 RETURN
148 Q=P(Z1-&H12):IFQ ANDY1>Y THEND1=&H1:RETURN
149 U=P(Z1+&H12):IFU ANDY1>Y THEND1=&H2:RETURN
150 IFP(Z1+&H1)THEND1=&H4:RETURN
151 IFU THEND1=&H2:RETURN
152 IFQ THEND1=&H1:RETURN
153 RETURN
154 IFPW GOSUB158
155 IFR2 THENR2=R2-&H1:FORT=1TO40:NEXT:HCOLORC2:G2=&H76+O:HPRINT(X2,Y2),CHR$(G2+O*&HE):FORT=1TO40:NEXT:GOTO241
156 IFM2 ANDO THENFORT=1TO125:NEXT:GOTO241
157 A2=X2:B2=Y2:AB=Z2:ONJ2+&H1 GOTO160:GOTO162
158 ONCD GOTO159:RETURN
159 M1=.:M2=.:M3=.:M4=.:PW=.:RGB:RETURN
160 IFM2 THENOND2 GOSUB218,224,229,235:GOTO189
161 OND2 GOTO166,172,177,183:GOTO189
162 IFZ2-&HAB THENELSED2=&H1:GOTO189
163 IFZ2-&HAC THENELSED2=&H3:GOTO189
164 IFZ2-&HAA THENELSED2=&H4:GOTO189
165 GOTO189
166 Q=P(Z2-&H1):IFQ ANDX2>X THEND2=&H3:GOTO188
167 U=P(Z2+&H1):IFU ANDX2<X THEND2=&H4:GOTO188
168 IFP(Z2-&H12)THEND2=&H1:GOTO188
169 IFU THEND2=&H4:GOTO188
170 IFQ THEND2=&H3:GOTO188
171 GOTO188
172 IFP(Z2-&H1)ANDX2>X THEND2=&H3:GOTO188
173 U=P(Z2+&H1):IFU ANDX2<X THEND2=&H4:GOTO188
174 IFP(Z2+&H12)THEND2=&H2:GOTO188
175 IFU THEND2=&H4:GOTO188
176 D2=&H3:GOTO188
177 Q=P(Z2-&H12):IFQ ANDY2>Y THEND2=&H1:GOTO188
178 U=P(Z2+&H12):IFU ANDY2<Y THEND2=&H2:GOTO188
179 IFP(Z2-&H1)THEND2=&H3:GOTO188
180 IFU THEND2=&H2:GOTO188
181 IFQ THEND2=&H1:GOTO188
182 GOTO188
183 Q=P(Z2-&H12):IFQ ANDY2>Y THEND2=&H1:GOTO188
184 U=P(Z2+&H12):IFU ANDY2<Y THEND2=&H2:GOTO188
185 IFP(Z2+&H1)THEND2=&H4:GOTO188
186 IFU THEND2=&H2:GOTO188
187 IFQ THEND2=&H1
188 G2=&H73+D2
189 OND2 GOTO190,191,192,193
190 Y2=Y2-&H1:W2=NOTW2:GOTO194
191 Y2=Y2+&H1:W2=NOTW2:GOTO194
192 X2=X2-&H1:W2=NOTW2:GOTO194
193 X2=X2+&H1:W2=NOTW2
194 IFX2-&H1D THENELSEX2=&HC:R2=M2+&H1:GOTO196
195 IFX2-&HB THENELSEX2=&H1C:R2=M2+&H1
196 Z2=X2-&H53+Y2*&H12:IFZ2-&H99 THENELSEM2=.:GOTO198
197 IFM2 THENPOKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H8:HPRINT(X2,Y2),CHR$(&H7E):HCOLOR&H2:HPRINT(X2,Y2),CHR$(&H78+W2*&HE):POKE&HF00D,&H94:POKE&HF00E,&HB3:GOTO200
198 HCOLORC2:HPRINT(X2,Y2),CHR$(G2+W2*&HE):IFZ2-&H99 THENELSEPOKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&HB:HPRINT(X2,Y2),CHR$(&H3B):POKE&HF00D,&H94:POKE&HF00E,&HB3:J2=.:GOTO200
199 IFAB-&H99 THENELSEHCOLOR&HB:HPRINT(A2,B2),CHR$(&H3B):GOTO216
200 IFAB-Z3 GOTO202ELSEGOTO201
201 IFM3 GOTO207ELSEGOTO208
202 IFAB-Z4 GOTO204ELSEGOTO203
203 IFM4 GOTO207ELSEGOTO209
204 IFAB-Z1 GOTO206ELSEGOTO205
205 IFM1 GOTO207ELSEGOTO210
206 GOTO211
207 HCOLOR&H8:HPRINT(A2,B2),CHR$(&H7E):HCOLOR&H2:POKE&HF00D,&HA4:POKE&HF00E,&H84:HPRINT(A2,B2),CHR$(&H78+W2*&HE):POKE&HF00D,&H94:POKE&HF00E,&HB3:GOTO216
208 HCOLORC3:HPRINT(A2,B2),CHR$(G3):GOTO216
209 HCOLORC4:HPRINT(A2,B2),CHR$(G4):GOTO216
210 HCOLORC1:HPRINT(A2,B2),CHR$(G1):GOTO216
211 ONP(AB)GOTO212,215,215,215,213,215,215,215,215,214:GOTO215
212 HCOLOR&H9:HPRINT(A2,B2),CHR$(&H24):GOTO216
213 HCOLOR&HE:HPRINT(A2,B2),CHR$(&H25):GOTO216
214 GOSUB59:GOTO216
215 HPRINT(A2,B2),CHR$(&H20)
216 IFZ-Z2 GOTO241
217 GOSUB401:GOTO241
218 Q=P(Z2-&H1):IFQ ANDX2<X THEND2=&H3:RETURN
219 U=P(Z2+&H1):IFU ANDX2>X THEND2=&H4:RETURN
220 IFP(Z2-&H12)THEND2=&H1:RETURN
221 IFU THEND2=&H4:RETURN
222 IFQ THEND2=&H3:RETURN
223 RETURN
224 IFP(Z2-&H1)ANDX2<X THEND2=&H3:RETURN
225 U=P(Z2+&H1):IFU ANDX2>X THEND2=&H4:RETURN
226 IFP(Z2+&H12)THEND2=&H2:RETURN
227 IFU THEND2=&H4:RETURN
228 D2=&H3:RETURN
229 Q=P(Z2-&H12):IFQ ANDY2<Y THEND2=&H1:RETURN
230 U=P(Z2+&H12):IFU ANDY2>Y THEND2=&H2:RETURN
231 IFP(Z2-&H1)THEND2=&H3:RETURN
232 IFU THEND2=&H2:RETURN
233 IFQ THEND2=&H1:RETURN
234 RETURN
235 Q=P(Z2-&H12):IFQ ANDY2>Y THEND2=&H1:RETURN
236 U=P(Z2+&H12):IFU ANDY2>Y THEND2=&H2:RETURN
237 IFP(Z2+&H1)THEND2=&H4:RETURN
238 IFU THEND2=&H2:RETURN
239 IFQ THEND2=&H1:RETURN
240 RETURN
241 IFPW GOSUB245
242 IFR3 THENR3=R3-&H1:FORT=1TO40:NEXT:HCOLORC3:G3=&H75+O:HPRINT(X3,Y3),CHR$(G3+O*&HE):FORT=1TO40:NEXT:GOTO322
243 IFO GOTO322
244 A3=X3:B3=Y3:AB=Z3:ONJ3+&H1 GOTO248:GOTO250
245 ONCD GOTO246,247,247,247,247,247,247:RETURN
246 M1=.:M2=.:M3=.:M4=.:PW=.:RGB:RETURN
247 RGB:RETURN
248 IFM3 THENOND3 GOSUB302,307,312,317:GOTO273
249 OND3 GOTO254,259,264,269:GOTO273
250 IFZ3-&HAB THENELSED3=&H1:GOTO273
251 IFZ3-&HAC THENELSED3=&H3:GOTO273
252 IFZ3-&HAA THENELSED3=&H4:GOTO273
253 GOTO273
254 U=P(Z3-&H1):IFU ANDX3>X THEND3=&H3:GOTO272
255 IFP(Z3-&H12)THEND3=&H1:GOTO272
256 IFP(Z3+&H1)THEND3=&H4:GOTO272
257 IFU THEND3=&H3:GOTO272
258 GOTO272
259 U=P(Z3-&H1):IFU ANDX3>X THEND3=&H3:GOTO272
260 IFP(Z3+&H12)THEND3=&H2:GOTO272
261 IFP(Z3+&H1)THEND3=&H4:GOTO272
262 IFU THEND3=&H3:GOTO272
263 D3=&H3:GOTO272
264 U=P(Z3-&H12):IFU ANDY3>Y THEND3=&H1:GOTO272
265 IFP(Z3-&H1)THEND3=&H3:GOTO272
266 IFP(Z3+&H12)THEND3=&H2:GOTO272
267 IFU THEND3=&H1:GOTO272
268 GOTO272
269 IFP(Z3+&H1)THEND3=&H4:GOTO272
270 IFP(Z3+&H12)THEND3=&H2:GOTO272
271 IFP(Z3-&H12)THEND3=&H1
272 G3=&H73+D3
273 OND3 GOTO274,275,276,277
274 Y3=Y3-&H1:W3=NOTW3:GOTO278
275 Y3=Y3+&H1:W3=NOTW3:GOTO278
276 X3=X3-&H1:W3=NOTW3:GOTO278
277 X3=X3+&H1:W3=NOTW3
278 IFX3-&H1D THENELSEX3=&HC:R3=M3+&H1:GOTO280
279 IFX3-&HB THENELSEX3=&H1C:R3=M3+&H1
280 Z3=X3-&H53+Y3*&H12:IFZ3-&H99 THENELSEM3=.:GOTO282
281 IFM3 THENPOKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H8:HPRINT(X3,Y3),CHR$(&H7E):HCOLOR&H2:HPRINT(X3,Y3),CHR$(&H78+W3*&HE):POKE&HF00D,&H94:POKE&HF00E,&HB3:GOTO284
282 HCOLORC3:HPRINT(X3,Y3),CHR$(G3+W3*&HE):IFZ3-&H99 THENELSEPOKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&HB:HPRINT(X3,Y3),CHR$(&H3B):POKE&HF00D,&H94:POKE&HF00E,&HB3:J3=.:GOTO284
283 IFAB-&H99 THENELSEHCOLOR&HB:HPRINT(A3,B3),CHR$(&H3B):GOTO300
284 IFAB-Z4 GOTO286ELSEGOTO285
285 IFM4 GOTO291ELSEGOTO292
286 IFAB-Z1 GOTO288ELSEGOTO287
287 IFM1 GOTO291ELSEGOTO293
288 IFAB-Z2 GOTO290ELSEGOTO289
289 IFM2 GOTO291ELSEGOTO294
290 GOTO295
291 HCOLOR&H8:HPRINT(A3,B3),CHR$(&H7E):HCOLOR&H2:POKE&HF00D,&HA4:POKE&HF00E,&H84:HPRINT(A3,B3),CHR$(&H78+W3*&HE):POKE&HF00D,&H94:POKE&HF00E,&HB3:GOTO300
292 HCOLORC4:HPRINT(A3,B3),CHR$(G4):GOTO300
293 HCOLORC1:HPRINT(A3,B3),CHR$(G1):GOTO300
294 HCOLORC2:HPRINT(A3,B3),CHR$(G2):GOTO300
295 ONP(AB)GOTO296,299,299,299,297,299,299,299,299,298:GOTO299
296 HCOLOR&H9:HPRINT(A3,B3),CHR$(&H24):GOTO300
297 HCOLOR&HE:HPRINT(A3,B3),CHR$(&H25):GOTO300
298 GOSUB59:GOTO300
299 HPRINT(A3,B3),CHR$(&H20)
300 IFZ-Z3 GOTO322
301 GOSUB405:GOTO322
302 U=P(Z3-&H1):IFU ANDX3<X THEND3=&H3:RETURN
303 IFP(Z3-&H12)THEND3=&H1:RETURN
304 IFP(Z3+&H1)THEND3=&H4:RETURN
305 IFU THEND3=&H3:RETURN
306 RETURN
307 U=P(Z3-&H1):IFU ANDX3<X THEND3=&H3:RETURN
308 IFP(Z3+&H12)THEND3=&H2:RETURN
309 IFP(Z3+&H1)THEND3=&H4:RETURN
310 IFU THEND3=&H3:RETURN
311 D3=&H3:RETURN
312 U=P(Z3-&H12):IFU ANDY3<Y THEND3=&H1:RETURN
313 IFP(Z3-&H1)THEND3=&H3:RETURN
314 IFP(Z3+&H12)THEND3=&H2:RETURN
315 IFU THEND3=&H1:RETURN
316 RETURN
317 U=P(Z3-&H12):IFU ANDY3>Y THEND3=&H1:RETURN
318 IFP(Z3+&H1)THEND3=&H4:RETURN
319 IFP(Z3+&H12)THEND3=&H2:RETURN
320 IFU THEND3=&H1:RETURN
321 RETURN
322 IFPW GOSUB326
323 IFR4 THENR4=R4-&H1:FORT=1TO40:NEXT:HCOLORC4:G4=&H77+O*2:HPRINT(X4,Y4),CHR$(G4+O*&HE):FORT=1TO40:NEXT:RETURN
324 IFO THENELSERETURN
325 A4=X4:B4=Y4:AB=Z4:ONJ4+&H1 GOTO328:GOTO330
326 ONCD GOTO327:RETURN
327 M1=.:M2=.:M3=.:M4=.:PW=.:RGB:RETURN
328 IFM4 THENOND4 GOSUB380,385,389,393:GOTO351
329 OND4 GOTO334,339,343,347:GOTO351
330 IFZ4-&HAB THENELSED4=&H1:GOTO351
331 IFZ4-&HAC THENELSED4=&H3:GOTO351
332 IFZ4-&HAA THENELSED4=&H4:GOTO351
333 GOTO351
334 U=P(Z4-&H1):IFU ANDX4>X THEND4=&H3:GOTO350
335 IFP(Z4-&H12)THEND4=&H1:GOTO350
336 IFP(Z4+&H1)THEND4=&H4:GOTO350
337 IFU THEND4=&H3:GOTO350
338 GOTO350
339 IFP(Z4+&H12)THEND4=&H2:GOTO350
340 IFP(Z4+&H1)THEND4=&H4:GOTO350
341 IFP(Z4-&H1)THEND4=&H3:GOTO350
342 D4=&H3:GOTO350
343 IFP(Z4-&H1)THEND4=&H3:GOTO350
344 IFP(Z4+&H12)THEND4=&H2:GOTO350
345 IFP(Z4-&H12)THEND4=&H1:GOTO350
346 GOTO350
347 IFP(Z4+&H1)THEND4=&H4:GOTO350
348 IFP(Z4+&H12)THEND4=&H2:GOTO350
349 IFP(Z4-&H12)THEND4=&H1
350 G4=&H73+D4
351 OND4 GOTO352,353,354,355
352 Y4=Y4-&H1:W4=NOTW4:GOTO356
353 Y4=Y4+&H1:W4=NOTW4:GOTO356
354 X4=X4-&H1:W4=NOTW4:GOTO356
355 X4=X4+&H1:W4=NOTW4
356 IFX4-&H1D THENELSEX4=&HC:R4=M4+&H1:GOTO358
357 IFX4-&HB THENELSEX4=&H1C:R4=M4+&H1
358 Z4=X4-&H53+Y4*&H12:IFZ4=&H99 THENM4=.:GOTO360
359 IFM4 THENPOKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&H8:HPRINT(X4,Y4),CHR$(&H7E):HCOLOR&H2:HPRINT(X4,Y4),CHR$(&H78+W4*&HE):POKE&HF00D,&H94:POKE&HF00E,&HB3:GOTO362
360 HCOLORC4:HPRINT(X4,Y4),CHR$(G4+W4*&HE):IFZ4-&H99 THENELSEPOKE&HF00D,&HA4:POKE&HF00E,&H84:HCOLOR&HB:HPRINT(X4,Y4),CHR$(&H3B):POKE&HF00D,&H94:POKE&HF00E,&HB3:J4=.:GOTO362
361 IFAB-&H99 THENELSEHCOLOR&HB:HPRINT(A4,B4),CHR$(&H3B):GOTO378
362 IFAB-Z1 GOTO364ELSEGOTO363
363 IFM1 GOTO369ELSEGOTO370
364 IFAB-Z2 GOTO366ELSEGOTO365
365 IFM2 GOTO369ELSEGOTO371
366 IFAB-Z3 GOTO368ELSEGOTO367
367 IFM3 GOTO369ELSEGOTO372
368 GOTO373
369 HCOLOR&H8:HPRINT(A4,B4),CHR$(&H7E):HCOLOR&H2:POKE&HF00D,&HA4:POKE&HF00E,&H84:HPRINT(A4,B4),CHR$(&H78+W4*&HE):POKE&HF00D,&H94:POKE&HF00E,&HB3:GOTO378
370 HCOLORC1:HPRINT(A4,B4),CHR$(G1):GOTO378
371 HCOLORC2:HPRINT(A4,B4),CHR$(G2):GOTO378
372 HCOLORC3:HPRINT(A4,B4),CHR$(G3):GOTO378
373 ONP(AB)GOTO374,377,377,377,375,377,377,377,377,376:GOTO377
374 HCOLOR&H9:HPRINT(A4,B4),CHR$(&H24):GOTO378
375 HCOLOR&HE:HPRINT(A4,B4),CHR$(&H25):GOTO378
376 GOSUB59:GOTO378
377 HPRINT(A4,B4),CHR$(&H20)
378 IFZ-Z4 THENRETURN
379 GOSUB409:RETURN
380 U=P(Z4-&H1):IFU ANDX4<X THEND4=&H3:RETURN
381 IFP(Z4-&H12)THEND4=&H1:RETURN
382 IFP(Z4+&H1)THEND4=&H4:RETURN
383 IFU THEND4=&H3:RETURN
384 RETURN
385 IFP(Z4+&H12)THEND4=&H2:RETURN
386 IFP(Z4+&H1)THEND4=&H4:RETURN
387 IFP(Z4-&H1)THEND4=&H3:RETURN
388 D4=&H3:RETURN
389 IFP(Z4+&H12)THEND4=&H2:RETURN
390 IFP(Z4-&H1)THEND4=&H3:RETURN
391 IFP(Z4-&H12)THEND4=&H1:RETURN
392 RETURN
393 IFP(Z4+&H1)THEND4=&H4:RETURN
394 IFP(Z4+&H12)THEND4=&H2:RETURN
395 IFP(Z4-&H12)THEND4=&H1:RETURN
396 RETURN
397 IFM1 THENHCOLOR&H1:IFW THENHPRINT(X,Y),CHR$(&H21)ELSEHPRINT(X,Y),CHR$(B):ELSEGOTO413
398 PLAY"XGK$;":S=S+&H14*FIX(&H2^K):Y1=&HD:M1=.:D1=&H1:G1=&H73+W1:R1=&H14-FR:J1=NOT.:K=K+&H1
399 IFNOT(Z2=&HAC ORZ3=&HAC ORZ4=&HAC)THENZ1=&HAC:X1=&H15:W1=NOT.:D1=&H3:ELSEIFNOT(Z2=&HAA ORZ3=&HAA ORZ4=&HAA)THENZ1=&HAA:X1=&H13:W1=NOT.:D1=&H4:ELSEZ1=&HAB:X1=&H14:W1=.:D1=&H1
400 RETURN
401 IFM2 THENHCOLOR&H1:IFW THENHPRINT(X,Y),CHR$(&H21)ELSEHPRINT(X,Y),CHR$(B):ELSEGOTO413
402 PLAY"XGK$;":S=S+&H14*FIX(&H2^K):Y2=&HD:M2=.:D2=&H1:G2=&H73+W2:R2=&H14-FR:J2=NOT.:K=K+&H1
403 IFNOT(Z1=&HAC ORZ3=&HAC ORZ4=&HAC)THENZ2=&HAC:X2=&H15:W2=NOT.:D2=&H3:ELSEIFNOT(Z1=&HAA ORZ3=&HAA ORZ4=&HAA)THENZ2=&HAA:X2=&H13:W2=NOT.:D2=&H4:ELSEZ2=&HAB:X2=&H14:W2=.:D2=&H1
404 RETURN
405 IFM3 THENHCOLOR&H1:IFW THENHPRINT(X,Y),CHR$(&H21)ELSEHPRINT(X,Y),CHR$(B):ELSEGOTO413
406 PLAY"XGK$;":S=S+&H14*FIX(&H2^K):Y3=&HD:M3=.:D3=&H1:G3=&H73+W3:R3=&H14-FR:J3=NOT.:K=K+&H1
407 IFNOT(Z2=&HAC ORZ1=&HAC ORZ4=&HAC)THENZ3=&HAC:X3=&H15:W3=NOT.:D3=&H3:ELSEIFNOT(Z2=&HAA ORZ1=&HAA ORZ4=&HAA)THENZ3=&HAA:X3=&H13:W3=NOT.:D3=&H4:ELSEZ3=&HAB:X3=&H14:W3=.:D3=&H1
408 RETURN
409 IFM4 THENHCOLOR&H1:IFW THENHPRINT(X,Y),CHR$(&H21)ELSEHPRINT(X,Y),CHR$(B):ELSEGOTO413
410 PLAY"XGK$;":S=S+&H14*FIX(&H2^K):Y4=&HD:M4=.:D4=&H1:G4=&H73+W4:R4=&H14-FR:J4=NOT.:K=K+&H1
411 IFNOT(Z2=&HAC ORZ3=&HAC ORZ1=&HAC)THENZ4=&HAC:X4=&H15:W4=NOT.:D4=&H3:ELSEIFNOT(Z2=&HAA ORZ3=&HAA ORZ1=&HAA)THENZ4=&HAA:X4=&H13:W4=NOT.:D4=&H4:ELSEZ4=&HAB:X4=&H14:W4=.:D4=&H1
412 RETURN
413 HCOLOR&H1:HPRINT(X,Y),CHR$(&H6B):PLAY"V31;O3;7;V27;7;V28;5;5;O4;4;O3;5;V27;5;V28;7;V27;7;V26;7;V27;8;V26;5;V27;5;O4;4;O3;4;4;V28;2;V27;4;4;V26;O4;4;"
414 HPRINT(X,Y),CHR$(&H6C):PLAY"V27;O3;5;V26;5;7;O4;4;O3;4;4;V27;2;V26;2;V27;2;2;V26;2;4;4;O4;4;V25;O3;5;4;2;V26;2;O4;1;O2;12;12;12;O4;1;O3;2;2;"
415 HPRINT(X,Y),CHR$(&H71):PLAY"V25;4;4;V24;2;V25;2;V24;O2;12;V25;12;9;9;V24;9;12;V25;12;V24;O4;1;O3;2;V23;2;O2;12;V24;12;V23;9;V24;9;V25;O3;8;"
416 HPRINT(X,Y),CHR$(&H72):PLAY"V23;O2;7;V24;9;9;O1;7;V29;O2;7;V28;O3;4;V27;8;V26;12;V24;O4;3;V23;5;V22;7;V21;9;V20;11;V18;O5;1;V19;O1;1;"
417 HPRINT(X,Y),CHR$(&H73):PLAY"V24;12;V30;O2;7;V28;O3;4;V27;8;V26;12;V24;O4;3;V23;5;V22;7;V21;9;V20;11;V18;O5;1;V3;O1;1;V2;1;V15;P1;P1;P1;"
418 HPRINT(X,Y),CHR$(&H20):NL=NL-&H1:IFNL=. THENHCOLOR&H3:HPRINT(16,&HF),"GAME OVER":GOSUB482:HCLS0:RESTORE:GOTO433
419 U=P(Z1):IFU=&H1 THENHCOLOR&H9:HPRINT(X1,Y1),CHR$(&H24):ELSEIFU=&H5 THENHCOLOR&HE:HPRINT(X1,Y1),CHR$(&H25):ELSEHPRINT(X1,Y1),CHR$(&H20)
420 U=P(Z2):IFU=&H1 THENHCOLOR&H9:HPRINT(X2,Y2),CHR$(&H24):ELSEIFU=&H5 THENHCOLOR&HE:HPRINT(X2,Y2),CHR$(&H25):ELSEHPRINT(X2,Y2),CHR$(&H20)
421 U=P(Z3):IFU=&H1 THENHCOLOR&H9:HPRINT(X3,Y3),CHR$(&H24):ELSEIFU=&H5 THENHCOLOR&HE:HPRINT(X3,Y3),CHR$(&H25):ELSEHPRINT(X3,Y3),CHR$(&H20)
422 U=P(Z4):IFU=&H1 THENHCOLOR&H9:HPRINT(X4,Y4),CHR$(&H24):ELSEIFU=&H5 THENHCOLOR&HE:HPRINT(X4,Y4),CHR$(&H25):ELSEHPRINT(X4,Y4),CHR$(&H20)
423 U=P(Z):IFU=&H1 THENHCOLOR&H9:HPRINT(X,Y),CHR$(&H24):ELSEIFU=&H5 THENHCOLOR&HE:HPRINT(X,Y),CHR$(&H25):ELSEHPRINT(X,Y),CHR$(&H20)
424 HPRINT(NL+&HB,23),CHR$(&H20):X=&H14:Y=&H11:HCOLOR&H1:HPRINT(X,Y),CHR$(&H22):P(&HCF)=&HF:GOTO457
425 PCLEAR1:POKE&HFFD8,0:LOADM"PACTILES.BIN":POKE&HFFD9,0:POKE&HADEB,57:POKE&HE414,0:POKE&HE42A,0:POKE359,255:POKE&HF00E,&H84:POKE&HF00D,&H94:POKE&HF00E,&HB3
426 POKE&HE649,&H10:POKE&HE664,&H0:POKE&HE666,&HB:POKE&HE66A,&H3D:POKE&HE66B,&H34:POKE&HE66C,&H3C:POKE&HE66D,&H3C:POKE&HE66E,&H24:POKE&HE670,&H8:POKE&HE672,&H3F:POKE&HE673,&H1C:RGB
427 HSCREEN2
428 DIM P(&H156),X,Y,Z,G,W,O,X1,Y1,Z1,D1,G1,C1,W1,X2,Y2,Z2,D2,G2,C2,W2,X3,Y3,Z3,D3,G3,C3,W3,X4,Y4,Z4,D4,G4,C4,W4,A,C,AB,A1,B1,A2,B2,A3,B3,A4,B4,PW,K
429 E1$="V30;O2;7;V29;7;V28;7;V27;7;7;V25;7;V24;7;V18;7;V17;7;V14;7;V12;7;V30;7;V28;7;7;V27;7;7;V25;7;V23;7;V18;7;V17;7;V15;7;V12;7;V11;7;V31;7;V29;7;V28;7;V27;7;V26;7;V25;7;V23;7;V18;7;V16;7;V14;7;V17;7;V28;7;V29;7;V27;7;7;V26;7;V25;7;V23;7"
430 E2$="V18;7;V16;7;V14;7;V12;7;V17;7;V30;7;V28;7;7;V27;7;7;V24;7;V22;7;V18;7;V16;7;V14;7;V18;7;V29;7;V28;7;7;V27;7;V26;7;V25;7;V22;7;V18;7;V16;7;V14;7;V11;7;V20;7;V29;7;7;V27;7;7;V26;7;V24;7;V22;7;V18;7;V16;7;V14;7;V21;7;V29;7;V28;7;V27;7;7"
431 E3$="V26;7;V24;7;V22;7;V18;7;V16;7;V14;7;V11;7;V21;O1;1;V29;O2;7;V28;7;7;V26;7;7;V24;7;V21;7;V18;7;V15;7;V13;7;V23;7;V29;7;V28;7;V27;7;7;V26;7;V24;7;V21;7;V17;7;V15;7;V13;7;V10;7;V15;"
432 GK$="T255;L255;V14;O1;1;V11;1;V21;1;V28;7;V31;12;V19;O2;4;V18;4;V29;7;V16;9;V27;12;V18;O3;2;V27;2;V18;4;V24;5;V25;7;V20;7;8;V22;9;11;12;V21;12;O4;1;2;V22;3;V23;3;V21;4;V19;4;V23;5;V20;6;6;V21;7;V12;O1;1;V4;1;V1;1;V15"
433 HCLS0:G1=&H69:G2=&H69:G3=&H69:G4=&H69:FR=&H1:NL=&H3:S=.:OS=.:LM=.:BC=&HC:C1=&H3:C2=&H6:C3=&H5:C4=&H7:MZ=&H1:BL=.
434 HCOLOR&H9,0:HPRINT(9,1),"COCOdSYNTHESIS PRESENTS":FORT=1TO3000:NEXT
435 POKE&HF00D,&H94:POKE&HF00E,&HB3:HCOLOR&H1:FORT=8TO31:HPRINT(T-1,1),CHR$(&H20)+CHR$(&H22):PLAY"T255;L255;V20;O3;9;V23;7;V24;4;V25;1;V26;O2;7;V14;7;P255;P255;P255;"
436 HPRINT(T,1),CHR$(&H21):PLAY"V23;O2;4;V27;9;V26;O3;1;4;V25;8;V10;O2;4;P255;P255;P255;":NEXT:HPRINT(31,1),CHR$(&H20)
437 HCOLOR&H4:HPRINT(18,0),"BASIC":HCOLOR&H1:HPRINT(17,1),"pacdman":FORT=1TO3000:NEXT:HCOLOR&H4:HPRINT(9,4),"INTRODUCING THE GHOSTS":FORT=1TO1000:NEXT
438 X=&H2:HCOLORC1:FORY=23TO5 STEP-1:HPRINT(2,Y+1),CHR$(&H20):HPRINT(2,Y),CHR$(&H66):FORT=1TO150:NEXT:HPRINT(2,Y),CHR$(&H74):FORT=1TO150:NEXT:HPRINT(2,Y),CHR$(&H66):FORT=1TO150:NEXT:NEXT
439 HPRINT(9,4),STRING$(22," "):HPRINT(2,5),CHR$(G1)+" BLINKY"
440 HCOLORC2:FORY=23TO7 STEP-1:HPRINT(2,Y+1),CHR$(&H20):HPRINT(2,Y),CHR$(&H66):FORT=1TO150:NEXT:HPRINT(2,Y),CHR$(&H74):FORT=1TO150:NEXT:HPRINT(2,Y),CHR$(&H66):FORT=1TO150:NEXT:NEXT
441 HPRINT(2,7),CHR$(G1)+" PINKY"
442 HCOLORC3:FORY=23TO9 STEP-1:HPRINT(2,Y+1),CHR$(&H20):HPRINT(2,Y),CHR$(&H66):FORT=1TO150:NEXT:HPRINT(2,Y),CHR$(&H74):FORT=1TO150:NEXT:HPRINT(2,Y),CHR$(&H66):FORT=1TO150:NEXT:NEXT
443 HPRINT(2,9),CHR$(G1)+" INKY"
444 HCOLORC4:FORY=23TO11 STEP-1:HPRINT(2,Y+1),CHR$(&H20):HPRINT(2,Y),CHR$(&H66):FORT=1TO150:NEXT:HPRINT(2,Y),CHR$(&H74):FORT=1TO150:NEXT:HPRINT(2,Y),CHR$(&H66):FORT=1TO150:NEXT:NEXT
445 HPRINT(2,11),CHR$(G1)+" CLYDE"
446 FORT=1TO1000:NEXT:HCOLOR&H9:HPRINT(30,9),CHR$(&H24):HCOLOR&H4:HPRINT(32,9),"10 PTS":HCOLOR&HE:HPRINT(30,11),CHR$(&H25):HCOLOR&H4:HPRINT(32,11),"50 PTS"
447 HCOLOR&H4:HPRINT(33,3),"1UP":HCOLORBC:HPRINT(30,4),CHR$(&H5B)+STRING$(7,CHR$(&H26))+CHR$(&H5D):HPRINT(30,5),CHR$(&H2E):HCOLOR&H4:HPRINT(36,5),"00":HCOLORBC:HPRINT(38,5),CHR$(&H2E)
448 HPRINT(30,6),CHR$(&H5C)+STRING$(7,CHR$(&H26))+CHR$(&H5E)
449 IFFR>&H7 THENFR=&H7:BL=BL+&H1
450 PL=.:PP=.:Z=.:POKE&HE47B,38:POKE&HE47C,54:ONERR GOTO493
451 MF$="MAZE"+STR$(MZ):OPEN "I",#1,MF$:INPUT#1,PC:POKE&HE670,PC:RGB:HCOLORBC:MZ=MZ+&H1
452 FORY=1TO19:FORX=1TO17
453 Z=X-&H12+&H12*Y:INPUT#1,B:IFB=&H24 THENHCOLOR&H9:P(Z)=&H1:PP=PP+&H1:ELSEIFB=&H25 THENHCOLOR&HE:P(Z)=&H5:ELSEIFB=&H3B THENHCOLOR&HB:P(Z)=.:ELSEIFB=&H20 THENHCOLOR&H0:P(Z)=&H2:ELSEIFB=&H22 THENHCOLOR&H1:P(Z)=&H2:ELSEP(Z)=.
454 HPRINT(X+&HB,Y+&H3),CHR$(B):HCOLORBC:NEXT:NEXT:CLOSE #1
455 IFFR=&H1 GOSUB482
456 POKE&HE47B,18:POKE&HE47C,18
457 POKE&HF00D,&HA4:POKE&HF00E,&H84:K=.:X1=&H14:Y1=&HB:D1=&H2:G1=&H74:Z1=&H87:M1=.:W1=.:X2=&H14:Y2=&HD:D2=&H1:G2=&H74:Z2=&HAB:M2=.:W2=.
458 X3=&H13:Y3=&HD:D3=&H4:G3=&H67:Z3=&HAA:M3=.:W3=NOT.:X4=&H15:Y4=&HD:D4=&H4:G4=&H67:Z4=&HAC:M4=.:W4=NOT.:J1=.:J2=NOT.:J3=NOT.:J4=NOT.
459 HCOLORC1:HPRINT(X1,Y1),CHR$(G1):HCOLORC2:HPRINT(X2,Y2),CHR$(G2):HCOLORC3:HPRINT(X3,Y3),CHR$(G3):HCOLORC4:HPRINT(X4,Y4),CHR$(G4)
460 ONFR GOTO461,462,463,464,465,466,467
461 FT=30:CT=30:R1=.:R2=10:R3=20:R4=30:HCOLOR&H3:HPRINT(28,23),CHR$(&H3C):HCOLOR&H4:HPRINT(28,23),CHR$(&H3D):HCOLOR&HD:HPRINT(28,23),CHR$(&H3E):GOTO468
462 FT=30:CT=27:R1=.:R2=9:R3=18:R4=27:HCOLOR&H3:HPRINT(27,23),CHR$(&H3F):HCOLOR&HD:HPRINT(27,23),CHR$(&H40):GOTO468
463 FT=30:CT=24:R1=.:R2=8:R3=16:R4=24:HCOLOR&H7:HPRINT(26,23),CHR$(&H23):HCOLOR&HD:HPRINT(26,23),CHR$(&H40):GOTO468
464 FT=30:CT=21:R1=.:R2=7:R3=14:R4=21:HCOLOR&H3:HPRINT(25,23),CHR$(&H62):HCOLOR&HD:HPRINT(25,23),CHR$(&H40):GOTO468
465 FT=30:CT=18:R1=.:R2=6:R3=12:R4=18:HCOLOR&HD:HPRINT(24,23),CHR$(&H79):HCOLOR&HF:HPRINT(24,23),CHR$(&H7A):GOTO468
466 FT=30:CT=15:R1=.:R2=5:R3=&HA:R4=15:HCOLOR&H4:HPRINT(23,23),CHR$(&H6F):HCOLOR&H5:HPRINT(23,23),CHR$(&H7F):GOTO468
467 FT=30:CT=15:R1=.:R2=4:R3=8:R4=12:HCOLOR&H1:HPRINT(22-BL,23),CHR$(&H7D):HCOLOR&H5:HPRINT(22-BL,23),CHR$(&H5F):GOTO468
468 POKE&HF00D,&H94:POKE&HF00E,&HB3:HCOLOR&H1:HPRINT(&H12,&HF),"READY"+CHR$(96)
469 PLAY"V26;O1;1;V29;O3;2;V30;2;2;V23;O1;1;V17;7;V16;7;V13;7;V25;O4;2;V27;2;2;2;V15;O1;1;V3;1;V1;1;P255;V21;O3;8;V25;8;8;V26;8;V17;O1;1;V3;1;V1;1;P255;V27;O3;5;V28;5;V30;5;V29;5;V22;O1;12;V17;7;V16;7;V12;12;V27;O4;2;V28;2;2;2;O3;8;8;8;V27;8"
470 PLAY"V19;O1;1;V10;1;V8;1;V6;1;V4;7;V2;7;P255;P255;V27;O3;5;V26;5;5;5;V27;5;5;5;5;V24;O1;7;V22;7;V20;12;V19;12;V18;7;V17;7;V16;12;V12;7;V31;O3;2;V29;4;2;V30;2;V18;O1;1;V17;7;V16;7;V12;7;V27;O4;3;3;3;3;V12;O1;1;V4;1;V1;1;V10;1;V26;O3;9;9;9"
471 PLAY"9;V8;O1;1;V3;1;V1;1;V5;1;V30;O3;7;V29;7;7;V28;7;V19;O1;12;V17;12;V15;12;V16;7;V29;O4;3;V28;3;3;3;O3;9;V27;9;V28;9;V27;9;V13;O1;1;V10;1;V8;1;V5;7;V4;7;V1;1;P255;V13;O1;1;V26;O3;7;7;7;7;7;V27;7;7;V26;7;V22;O1;7;V21;12;V20;12;V19;7"
472 PLAY"V18;7;V16;12;V15;12;V21;12;V30;O3;2;V29;2;2;V28;2;V17;O1;1;1;V15;1;V19;1;V27;O4;2;2;2;V24;2;V4;O1;1;V2;1;P255;V18;O1;1;V25;O3;8;V26;8;8;V21;8;P255;P255;P255;V19;O3;5;V30;5;V28;5;V29;5;V26;5;V18;O1;12;V16;7;V14;7;V21;7;V29;O4;2;V28;2"
473 PLAY"V29;2;V27;2;V28;O3;8;8;8;V24;8;V11;O1;7;V9;1;V7;1;V5;1;V2;1;P255;P255;V21;O1;1;V26;O3;5;5;5;V27;5;5;5;5;V26;5;V23;O1;7;V21;7;V19;12;12;V17;7;V16;7;V14;12;V25;O3;4;V29;5;V30;4;V29;5;5;V28;5;V29;5;V28;5;7;7;7;7;V22;O1;1;V5;1;V2;1;P255"
474 PLAY"V25;O1;7;V30;O3;7;V29;7;V28;7;V29;8;V27;8;V28;8;V27;8;8;8;8;8;V19;O1;1;V4;1;V2;1;P255;V26;O3;8;V28;8;8;V27;8;V28;9;V27;9;9;9;11;11;V28;11;11;V19;O1;1;V6;1;V2;1;P255;V27;O4;2;V28;2;V29;2;V28;2;V29;2;V28;2;2;2;V21;O2;4;V15;4;V13;O1;12"
475 PLAY"V9;12;V7;12;V4;12;V2;1;V15;P1;P1;":HCOLOR&H9:HPRINT(&H14,&HF),CHR$(&H20)
476 IFP(&HCD)=&H1 THENHPRINT(&H12,&HF),CHR$(&H24)ELSEHPRINT(&H12,&HF),CHR$(&H20)
477 IFP(&HCE)=&H1 THENHPRINT(&H13,&HF),CHR$(&H24)ELSEHPRINT(&H13,&HF),CHR$(&H20)
478 IFP(&HD0)=&H1 THENHPRINT(&H15,&HF),CHR$(&H24)ELSEHPRINT(&H15,&HF),CHR$(&H20)
479 IFP(&HD1)=&H1 THENHPRINT(&H16,&HF),CHR$(&H24)ELSEHPRINT(&H16,&HF),CHR$(&H20)
480 IFP(&HD2)=&H1 THENHPRINT(&H17,&HF),CHR$(&H24)ELSEHPRINT(&H17,&HF),CHR$(&H20)
481 X=&H14:Y=&H11:B=&H22:PD=&H4:OB=B:Z=&HF3:PW=.:C1=&H3:C2=&H6:C3=&H5:C4=&H7:W=.:GOTO1
482 HCOLOR&HE:HPRINT(10,23),"PRESS BUTTON TO START"
483 IFBUTTON(.)GOTO491
484 IFFL=&H1 THENPOKE&HFFBE,&H3C
485 IFBUTTON(.)GOTO491
486 IFFL=&H14 THENPOKE&HFFBE,&H3F
487 IFBUTTON(.)GOTO491
488 IFFL=&H28 THENFL=.
489 IFBUTTON(.)GOTO491
490 FL=FL+&H1:GOTO483
491 HCOLOR.:HPRINT(10,23),"PRESS BUTTON TO START":IFFR=&H1 ANDNL THENHCOLOR&H1:HPRINT(12,23),STRING$(NL-&H1,CHR$(&H22))
492 RETURN
493 IFERNO=26 THENMZ=&H1:GOTO451:ELSEGOTO456
